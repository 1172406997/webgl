<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>创建一个格子</title>
    <script src="https://cdn.bootcss.com/three.js/r83/three.js"></script>
    <style>
        div#canvas-frame {
            border: none;
            cursor: pointer;
            width:100%;
            height: 600px;
            background-color: #EEEEEE;
        }
    </style>
</head>
<body >

<div id="canvas-frame"></div>
<script>
    var renderer,width,height;
    function initThree(){
        console.log(THREE.REVISION)
        width = document.getElementById("canvas-frame").clientWidth;
        height = document.getElementById("canvas-frame").clientHeight;
        renderer = new THREE.WebGLRenderer({
            antialias : true,
        })
        renderer .setSize(width,height);
        document.getElementById("canvas-frame").appendChild(renderer.domElement);
        renderer.setClearColor(0xffffff,1.0)
    }
    var camera ;
    function initCamera(){
        camera = new THREE.PerspectiveCamera(45,width/height,1,1000);
        camera.position.x = 0;
        camera.position.y = 1000;
        camera.position.z = 0;
        camera.up.x = 0;
        camera.up.y = 0;
        camera.up.z = 1;
        camera.lookAt({
            x:0,
            y:0,
            z:0
        })
    }
    /*
    * camera . position 相机的位置
    * camera.up 相机以哪个方向为上方
    * camera.lookAt 相机看向哪里
    * */
    var scene ;
    function initScene(){
        scene = new THREE.Scene();
    }

    var light;
    function initLight(){
        light = new THREE.DirectionalLight(0xFF0000,1.0,0);
        light.position.set(100,100,200);
        scene.add(light);
    }

    /*
    * 画方格思路
    * 先找到起始点与结束点
    * 然后找到正方体边上等分点，，平移下来
    * */
    var cube;
    function initObject(){
        var geometry = new THREE.Geometry(); // 首先，声明了一个几何体。几何体里面有一个vertices变量用来存放点。
        geometry.vertices.push(new THREE.Vector3(-500,0,0));
        geometry.vertices.push(new THREE.Vector3(500,0,0));
        for(var i=0;i<20;i++){
            var line = new THREE.Line(geometry,new THREE.LineBasicMaterial({
                color:0x000000,
                opacity:0.7,
            }))
            line.position.z = (i*50)-500;
            scene.add( line );

            var line = new THREE.Line (geometry,new THREE.LineBasicMaterial({
                color:0x000000,
                opacity:0.7,
            }))
            line.position.x = (i*50)-500;
            line.rotation.y = 90*Math.PI / 180;
            scene.add(line);

            var line = new THREE.Line (geometry,new THREE.LineBasicMaterial({
                color:0x000000,
                opacity:0.7,
            }))
            line.position.x = (i*50)-500;
            line.rotation.y = -100*Math.PI / 180;
            scene.add(line);

            var line = new THREE.Line (geometry,new THREE.LineBasicMaterial({
                color:0x000000,
                opacity:0.7,
            }))
            line.position.x = (i*50)-500;
            line.rotation.y = 100*Math.PI / 180;
            scene.add(line);
        }
    }

    function render (){
        renderer.clear();
        renderer.render(scene,camera);
        requestAnimationFrame(render);
    }
    function threeStart(){
        initThree();
        initCamera();
        initScene();
        initLight();
        initObject();
        render();
    }
    threeStart()
</script>
</body>
</html>