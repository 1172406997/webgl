<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <script src="https://cdn.bootcss.com/three.js/r83/three.js"></script>
    <style>
        div#canvas-frame {
            border: none;
            cursor: pointer;
            width:100%;
            height: 600px;
            background-color: #EEEEEE;
        }
    </style>
</head>
<body >

    <div id="canvas-frame"></div>
    <script>
        var renderer,width,height;
        function initThree(){
            console.log(THREE.REVISION)
            width = document.getElementById("canvas-frame").clientWidth;
            height = document.getElementById("canvas-frame").clientHeight;
            renderer = new THREE.WebGLRenderer({
                antialias : true,
            })
            renderer .setSize(width,height);
            document.getElementById("canvas-frame").appendChild(renderer.domElement);
            renderer.setClearColor(0xffffff,1.0)
        }
        var camera ;
        function initCamera(){
            camera = new THREE.PerspectiveCamera(45,width/height,1,1000);
            camera.position.x = 0;
            camera.position.y = 1000;
            camera.position.z = 0;
            camera.up.x = 0;
            camera.up.y = 0;
            camera.up.z = 1;
            camera.lookAt({
                x:0,
                y:0,
                z:0
            })
        }
        /*
        * camera . position 相机的位置
        * camera.up 相机以哪个方向为上方
        * camera.lookAt 相机看向哪里
        * */
        var scene ;
        function initScene(){
            scene = new THREE.Scene();
        }

        var light;
        function initLight(){
            light = new THREE.DirectionalLight(0xFF0000,1.0,0);
            light.position.set(100,100,200);
            scene.add(light);
        }

        var cube;
        function initObject(){
            var geometry = new THREE.Geometry(); // 首先，声明了一个几何体。几何体里面有一个vertices变量用来存放点。
            var metrial = new THREE.LineBasicMaterial({
                vertexColors:true,
            });
            /*
            * LineBasicMaterial（parameters ） 定义一个线条的材质，
            * parameters 是一个定义材质外观的对象，含有多个属性：
            * Color:线条的颜色，用16进制来表示，默认的颜色是白色。
            *Linewidth: 线条的宽度，默认1个单位宽度
            * Linecap:线条两端线头样式，默认是圆角
            * Linejoin ： 线条连接处外观，默认是round
            * VertexColors：定义线条材质是否使用定点颜色，参数为boolean
            * Fog：定义材质颜色是否受全局雾效影响
            * */
            var color1 = new THREE.Color(0x444444);
            color2 = new THREE.Color(0xFF0000);

            //线的材质可以由两点的颜色决定
            var p1 = new THREE.Vector3(-100,0,100);
            var p2 = new THREE.Vector3(100,0,-100);
            //定义两点的位置
            geometry.vertices.push(p1);
            //几何，天空
            geometry.vertices.push(p2);
            geometry.colors.push(color1,color2);
            //为线条设置颜色

            var line = new THREE.Line(geometry,metrial,THREE.LineSegments);
            /*
            * 定义一条线，线的参数是
            * var line = new THREE.Line( geometry, material, THREE.LinePieces );
            * geometry 包含两点的几何体
            * material 材质
            * 连接方式，目前 linePieces 似乎已经废弃，变为 LineSegments
            * 专门为线准备的材质
            * */
            scene.add(line);
        }
        function render (){
            renderer.clear();
            renderer.render(scene,camera);
            requestAnimationFrame(render);
        }
        function threeStart(){
            initThree();
            initCamera();
            initScene();
            initLight();
            initObject();
            render();
        }
        threeStart()
    </script>
</body>
</html>